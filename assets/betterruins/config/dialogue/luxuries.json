{
	components: [
		{
			code: "testhasmet",
			owner: "trader",
			type: "condition",
			variable: "player.hasmet",
			isNotValue: "true",
			thenJumpTo: "firstmeet",
			elseJumpTo: "testnewtrader"
		},
		{
			code: "testnewtrader",
			owner: "trader",
			type: "condition",
			variable: "entity.hasmet",
			isNotValue: "true",
			thenJumpTo: "introduction",
			elseJumpTo: "welcomeback"
		},
		{
			code: "firstmeet",
			owner: "trader",
			type: "talk",
			setVariables: { "entity.hasmet": "true" },
			text: [
				{ value: "game:Haven't seen you around before. You just wake up?" },
			],
		},
		{
			code: "firstmeetresponse",
			owner: "player",
			setVariables: { "player.hasmet": "true" },
			type: "talk",
			text: [
				{ value: "game:I don't know what you mean.", jumpTo: "daisies" },
				{ value: "game:I think so.", jumpTo: "morning" },
				{ value: "game:I might still be dreaming.", jumpTo: "dream" },
				{ value: "game:Damn it's good to see a friendly face.", jumpTo: "bold" },
				{ value: "game:dialogue-trader-nochatter", jumpTo: "opentrade" },

			],
		},

		{
			code: "daisies",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "game:dialogue-daisies" }
			],
		},
		{
			code: "daisiesresponse",
			owner: "player",
			type: "talk",
			text: [
				{ value: "game:I'm sorry, it's better left unsaid.", jumpTo: "alright" },
				{ value: "game:I'm not entirely sure myself.", jumpTo: "hm" },
				{ value: "game:I'm just trying to survive. As always.", jumpTo: "always" },
				{ value: "game:There are more out there... like this?", jumpTo: "strangers" }
			],
		},
		{
			code: "alright",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "game:That's alright, stranger. I didn't expect anything else." }
			],
			jumpTo: "main"
		},
		{
			code: "hm",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "game:Hm, wish I could be more help to ya." }
			],
			jumpTo: "main"
		},
		{
			code: "always",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "game:(He nods soberly) As always." }
			],
			jumpTo: "main"
		},
		{
			code: "strangers",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "game:That's right. Strange-colored strangers walk the land." }
			],
			jumpTo: "main"
		},

		{
			code: "morning",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "game:dialogue-goodmorning" }
			],
			jumpTo: "main"
		},

		{
			code: "dream",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "game:dialogue-aintadream" }
			]
		},
		{
			code: "dreamresponse",
			owner: "player",
			type: "talk",
			text: [
				{ value: "game:I've seen worse.", jumpTo: "notbad" },
				{ value: "game:dialogue-howbeautiful", jumpTo: "tired" },
				{ value: "game:Perhaps you're right. There's still work to do.", jumpTo: "alwaysmore" },
			],
		},
		{
			code: "notbad",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "game:dialogue-damneddrifters" }
			],
			jumpTo: "main"
		},
		{
			code: "tired",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "game:dialogue-demonsstalk" }
			],
			jumpTo: "main"
		},
		{
			code: "alwaysmore",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "game:Aye, there's always more work to do." }
			],
			jumpTo: "main"
		},

		{
			code: "bold",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "game:dialogue-welcome" }
			],
		},
		{
			code: "wellmet",
			owner: "player",
			type: "talk",
			text: [
				{ value: "game:Well met.", jumpTo: "main" }
			]
		},
		{
			code: "introduction",
			owner: "trader",
			type: "talk",
			setVariables: { "entity.hasmet": "true" },
			text: [
				{ value: "game:dialogue-trader-newcustomer" }
			],
			jumpTo: "main"
		},
		{
			code: "welcomeback",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "game:Welcome back {{playername}}! What can I do for you?" }
			]
		},
		{
			code: "main",
			owner: "player",
			type: "talk",
			text: [
				{ value: "game:Got anything to trade, {{npcname}}?", jumpTo: "opentrade" },
				{ value: "game:dialogue-name", jumpTo: "name" },
				{ value: "game:Why live out here like this?", jumpTo: "profit" },
				{ value: "game:dialogue-trader-know", jumpTo: "treasurehunter" },
				{ value: "betterruins:dialogue-anythingspecialtosell", jumpTo: "sellingquestion" },
				{ value: "betterruins:dialogue-fromwheredoyougetall", jumpTo: "strategy", conditions: [{ variable: "player.globedone", isNotValue: "true" } ] },
				{ value: "betterruins:dialogue-imbackandibring", jumpTo: "takeglobe", conditions: [{ variable: "player.globedone", isValue: "true" } ,{ variable: "player.inventory", isValue: "{ type: 'block', code: 'game:clutter', attributes: { type: 'globe1',collected:true } }" }, {"variable": "player.inventory", "isNotValue": "{type: 'item', code: 'betterruins:locatormap-university'}"}] },
				{ value: "betterruins:Do you know anything interesting around here?", jumpTo: "sellingquestion2" },
				{ value: "betterruins:I have the meteoric knife you asked for. Here take it.", jumpTo: "acceptmeteorknife2", conditions: [{ variable: "player.requestmeteorknife", isValue: "true" }, { variable: "player.inventory", isValue: "{ type: 'item', code: 'game:knife-generic-meteoriciron'}" }, {"variable": "player.inventory", "isNotValue": "{type: 'item', code: 'betterruins:locatormap-crossroadsbelow'}"} ] },
				
				
				{ value: "betterruins:You probably wander the world a lot. Heard many stories?", jumpTo: "sunrift_storyintro" , conditions: [{ variable: "player.gaveironpickaxe", isNotValue: "true" } ]},
				{ value: "betterruins:Can you remind me where the location with the sun symbol was?", jumpTo: "sunrift_redrop" , conditions: [{ variable: "player.gaveironpickaxe", isValue: "true" } , {"variable": "player.inventory", "isNotValue": "{type: 'item', code: 'betterruins:locatormap-sunrift'}"}]},
				{ value: "betterruins:I have the pickaxe in exchange for the map with the sun.", jumpTo: "sunrift_havepickaxe", conditions: [{ variable: "player.requestironpickaxe", isValue: "true" } ,{ variable: "player.inventory", isValue: "{ type: 'item', code: 'game:pickaxe-iron' }" }, {"variable": "player.inventory", "isNotValue": "{type: 'item', code: 'betterruins:locatormap-sunrift'}"}] }

			]
		},
		{
			code: "name",
			owner: "trader",
			type: "talk",
			trigger: "revealname",
			text: [
				{ value: "game:Kind of you to ask, traveler. It's {{npcname}}." }
			],
			jumpTo: "main"
		},

		{
			code: "sellingquestion2",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:There are whispers, traveler. Tales passed from one sun-scorched tongue to the next—of a place far beneath the dunes. An ancient tomb, where four trade empires once crossed paths and secrets were locked away in silence. It's not on any common map... but I may possess something rare." }
			],
			jumpTo: "sellingquestionresponse2"
		},
		{
			code: "sellingquestionresponse2",
			owner: "player",
			type: "talk",
			text: [
				{ value: "betterruins:Why hasn't anyone gone after it?", jumpTo: "crossroadanswer12" },
				{ value: "betterruins:Show me the map.", jumpTo: "crossroadanswer22" },
				{ value: "betterruins:Not interested. Maybe another time.", jumpTo: "main" }
			]
		},
		{
			code: "crossroadanswer12",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:Many have tried. Most returned sunstruck, or didn’t return at all. The tomb is half-consumed by the desert itself, guarded by puzzles older than the founding of Falx’s line. Some say even the Rot turned back at its threshold. The silence there is not natural. It breathes. It waits." }
			],
			jumpTo: "crossroadfollowup12"
		},
		{
			code: "crossroadfollowup12",
			owner: "player",
			type: "talk",
			text: [
				{ value: "betterruins:Sounds like a fairytale.", jumpTo: "crossroaddismiss2" },
				{ value: "betterruins:I’ve dealt with worse. What’s your price?", jumpTo: "howmuchisit2" }
			]
		},
		{
			code: "crossroaddismiss2",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:Then walk on, dreamer. Some things are best left to the wind and to the dead." }
			],
			jumpTo: "main"
		},
		{
			code: "howmuchisit2",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:Spoken like one born of purpose. But rusty gears is not enough, not for this. I require something rarer—something that fell from the stars. Bring me a knife of meteoric iron. Freshly forged. Untouched by blood or rust. Only then shall I entrust you with the map." }
			],
			setVariables: { "player.requestmeteorknife": "true" },
			jumpTo: "howmuchisit32"
		},
		{
			code: "howmuchisit32",
			owner: "player",
			type: "talk",
			text: [
				{ value: "betterruins:I will come back with a meteoric knife!", jumpTo: "main" },
			]
		},
		
		{
			code: "acceptmeteorknife2",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:You truly have it... A blade that sings of the forge and starlight. You’ve earned this." }
			],
			jumpTo: "givecrossroadsmap22"
		},
		{
			code: "givecrossroadsmap22",
			owner: "player",
			type: "talk",
			text: [
				{ value: "betterruins:Here take the Meteoric Knife.", jumpTo: "givecrossroadsmap2" },
			]
		},
		{
			code: "givecrossroadsmap2",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:Thanks!" }
			],
			trigger: "takefrominventory",
			triggerdata: { type: 'item', code: 'game:knife-generic-meteoriciron'},
			jumpTo: "givecrossroadsmap33"
		},
		{
			code: "givecrossroadsmap33",
			owner: "player",
			type: "talk",
			text: [
				{ value: "betterruins:Now give me the map please.", jumpTo: "givecrossroadsmap3" },
			]
		},
		{
			code: "givecrossroadsmap3",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:Take the map. May it guide you true, and may the sands be kind to your steps." }
			],
			trigger: "giveitemstack",
			triggerdata: { type: "item", code: "betterruins:locatormap-crossroadsbelow", stacksize: 1 },
			jumpTo: "main"
		},
		{
			code: "crossroadanswer22",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:Eager, are you? Wise or foolish—we shall see. This map leads to a chamber beneath the sands, once known as the Crossroads Below. Vaulted stone, buried secrets. It's not marked by stone, but by silence—and silence keeps its secrets well." }
			],
			jumpTo: "crossroadfollowup2"
		},

		{
			code: "crossroadfollowup2",
			owner: "player",
			type: "talk",
			text: [
				{ value: "betterruins:I’ll take it. What’s your price?", jumpTo: "howmuchisit2" },
				{ value: "betterruins:Who made it?", jumpTo: "crossroadlore2" }
			]
		},

		{
			code: "crossroadlore2",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:Those who made it sealed themselves in, taking their names with them. But they left warnings, etched in stone and scratched into bone. Listen closely when you're down there... you might still hear them." }
			],
			jumpTo: "crossroadfollowup2"
		},




	






















		{
			code: "sellingquestion",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:dialogue-ahyouhavecometotherightplace" }
			]
		},
		{
			code: "sellingquestionresponse",
			owner: "player",
			type: "talk",
			text: [
				{ value: "betterruins:The Forlorn Hope? Tell me more.", jumpTo: "forlornhope1" },
				{ value: "betterruins:What’s so significant about this tower?", jumpTo: "forlornhope2" },
				{ value: "betterruins:I’ll take the map. How much is it?", jumpTo: "howmuchisit"},
				{ value: "betterruins:I now want to buy the map you talked about.", jumpTo: "buyforlornmap", conditions: [{ variable: "player.requestprice1", isValue: "true" }, { variable: "player.inventory", isValue: "{ type: 'item', code: 'game:gear-rusty', quantity: 10 }" }, {"variable": "player.inventory", "isNotValue": "{type: 'item', code: 'betterruins:locatormap-forlornhopetower'}"} ] },
				{ value: "betterruins:Not interested. Maybe another time.", jumpTo: "main" },
				{ value: "betterruins:Ahh I see I will try to get you those gears and return.", jumpTo: "main" , conditions: [{ variable: "player.requestprice1", isValue: "true" }, { variable: "player.inventory", isNotValue: "{ type: 'item', code: 'game:gear-rusty', quantity: 10 }" }, {"variable": "player.inventory", "isNotValue": "{type: 'item', code: 'betterruins:locatormap-forlornhopetower'}"} ]}

			]
		},

		{
			code: "forlornhope1",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:dialogue-forlornhope1" }
			],
			jumpTo: "sellingquestionresponse"
		},

		{
			code: "forlornhope2",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:dialogue-forlornhope2" }
			],
			jumpTo: "sellingquestionresponse"
		},


		{
			code: "howmuchisit",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:dialogue-forlornhope3" }
			],
			setVariables: { "player.requestprice1": "true" },
			jumpTo: "sellingquestionresponse"
		},

		{
			code: "buyforlornmap",
			owner: "trader",
			type: "talk",
			text: [ { value: "betterruins:dialogue-buyforlornmap1" } ],
			jumpTo: "buyforlornmap2"			
		},

		{
			code: "buyforlornmap2",
			owner: "player",
			type: "talk",
			text: [
				{ value: "betterruins:Yes here you go.", jumpTo: "actualbuying" }
			],
			trigger: "takefrominventory",
			triggerdata: {type: 'item', code: 'game:gear-rusty', quantity: 10 },

		},
		
		{
			code: "actualbuying",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:dialogue-actualbuying" }
			],
			trigger: "giveitemstack",
			triggerdata: { type: "item", code: "betterruins:locatormap-forlornhopetower", stacksize: 1 },
			setVariables: { "entity.forlornhopeboughtfirsttime": "true" },
			jumpTo: "sellingquestionresponse"
		},



		

		{
			code: "opentrade",
			owner: "trader",
			trigger: "opentrade"
		},
		{
			code: "profit",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "game:dialogue-profittobemade" }
			]
		},
		{
			code: "profitresponse",
			owner: "player",
			type: "talk",
			text: [
				{ value: "game:dialogue-horriblecreatures", jumpTo: "drifters" },
				{ value: "game:dialogue-ravenousbeasts", jumpTo: "wealth" },
				{ value: "game:dialogue-nicesafevillage", jumpTo: "main" }
			]
		},
		{
			code: "drifters",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "game:dialogue-miserablesouls" }
			]
		},
		{
			code: "driftersresponse",
			owner: "player",
			type: "talk",
			text: [
				{ value: "game:dialogue-punishedbygod", jumpTo: "challenged" },
				{ value: "game:dialogue-theveryair", jumpTo: "bonds" },
				{ value: "game:dialogue-worldcouldnothouse", jumpTo: "afraidso" }
			]
		},
		{
			code: "challenged",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "game:dialogue-wrigglelikeworms" }
			],
			jumpTo: "main"
		},
		{
			code: "bonds",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "game:dialogue-trulylostcreatures" }
			],
			jumpTo: "main"
		},
		{
			code: "afraidso",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "game:dialogue-tremblewithit" }
			],
			jumpTo: "main"
		},
		{
			code: "wealth",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "game:dialogue-wealthisavirtue" }
			],
			jumpTo: "main"
		},
		{
			code: "strategy",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:dialogue-strategy1" }
			],
			jumpTo: "strategy2"
		},
		{
			code: "strategy2",
			owner: "player",
			type: "talk",
			text: [
				{ value: "betterruins:dialogue-strategy2", jumpTo: "strategy3" }
			]
		},
		{
			code: "strategy3",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:dialogue-strategy3" }
			],
			jumpTo: "strategy4"
		},
		{
			code: "strategy4",
			owner: "player",
			type: "talk",
			text: [
				{ value: "betterruins:dialogue-strategy4.1", jumpTo: "strategy5" },
				{ value: "betterruins:dialogue-strategy4.2", jumpTo: "main" }
			]
		},
		{
			code: "strategy5",
			owner: "trader",
			type: "talk",
			text: [ { value: "betterruins:dialogue-strategy5" } ],
			"setVariables": { "player.globedone": "true" },
			jumpTo: "main"
		},
		{
			code: "takeglobe",
			owner: "trader",
			type: "talk",
			text: [ { value: "betterruins:dialogue-takeglobe" } ],
			jumpTo: "globediscussion",
			trigger: "takefrominventory",
			triggerdata: {type: 'block', code: 'game:clutter', attributes: {type:'globe1',collected:true}}
			
		},
		{
			code: "globediscussion",
			owner: "trader",
			type: "talk",
			text: [ { value: "betterruins:dialogue-globediscussion" } ],
			jumpTo: "globediscussion1"
		},
		{
			code: "globediscussion1",
			owner: "player",
			type: "talk",
			text: [
				{ value: "betterruins:dialogue-globediscussion1", jumpTo: "globediscussion2" }
			]
		},
		{
			code: "globediscussion2",
			owner: "trader",
			type: "talk",
			text: [ { value: "betterruins:dialogue-globediscussion2" } ],
			jumpTo: "globediscussion3"
		},
		{
			code: "globediscussion3",
			owner: "player",
			type: "talk",
			text: [
				{ value: "betterruins:dialogue-globediscussion3", jumpTo: "globediscussion4" }
			]
		},
		{
			code: "globediscussion4",
			owner: "trader",
			type: "talk",
			text: [ { value: "betterruins:dialogue-globediscussion4"} ],
			jumpTo: "globediscussion5"
		},
		{
			code: "globediscussion5",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:dialogue-globediscussion5" }
			],
			trigger: "giveitemstack",
			triggerdata: { type: "item", code: "betterruins:locatormap-university", stacksize: 1 },
			jumpTo: "globediscussion6"
		},
		{
			code: "globediscussion6",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:dialogue-globediscussion6" }
			],
			trigger: "giveitemstack",
			triggerdata: { type: "item", code: "game:gear-rusty", stacksize: 10 },
			jumpTo: "globediscussion7"
		},
		{
			code: "globediscussion7",
			owner: "player",
			type: "talk",
			text: [
				{ value: "betterruins:dialogue-globediscussion7", jumpTo: "main" }
			]
		},

























		{
			code: "treasurehunter",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "game:dialogue-trader-treasure" }
			],
			jumpTo: "treasurehunterchoice"
		},
		{
			code: "treasurehunterchoice",
			owner: "player",
			type: "talk",
			text: [
				{ value: "game:Alright, save me the trouble. Here's four gears.", jumpTo: "treasurehunterpay", conditions: [ { variable: "player.inventory", isValue: "{type: 'item', code: 'game:gear-rusty', stacksize: 4}" } ]  },
				{ value: "game:No thanks, I don't have much to spare.", jumpTo: "main" },
			]
		},
		{
			code: "treasurehunterpay",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "game:Excellent. Thank you for the business." }
			],
			trigger: "takefrominventory",
			triggerdata: {type: 'item', code: 'game:gear-rusty', quantity: 4 },
			jumpTo: "treasurehuntercontinue"
		},
		{
			code: "treasurehuntercontinue",
			owner: "player",
			type: "talk",
			text: [
				{ value: "game:dialogue-continue", jumpTo: "treasurehuntermap"  }
			]
		},
		{
			code: "treasurehuntermap",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "game:Here, I've marked on a map where you might find one of them. He had set up a small outpost there last time I passed by." }
			],
			trigger: "giveitemstack",
			triggerdata: { type: "item", code: "game:locatormap-treasurehunter", stacksize: 1 },
			jumpTo: "main"
		},



















		{
			code: "sunrift_storyintro",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:There are plenty of stories. They gather like dirt on boots. Listening to them is certainly safer than checking them." }
			],
			jumpTo: "sunrift_storyintro_response"
		},
		{
			code: "sunrift_storyintro_response",
			owner: "player",
			type: "talk",
			text: [
				{ value: "betterruins:Is there one? Not too old.", jumpTo: "sunrift_story1" },
				{ value: "betterruins:I understand. I'll step away.", jumpTo: "main" }
			]
		},

		{
			code: "sunrift_story1",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:There is one. But it holds no more certainty than the others." }
			],
			jumpTo: "sunrift_story1_response"
		},
		{
			code: "sunrift_story1_response",
			owner: "player",
			type: "talk",
			text: [
				{ value: "betterruins:Typical for stories, I'm interested.", jumpTo: "sunrift_story2" },
				{ value: "betterruins:Save it for now, I'll come back later.", jumpTo: "main" }
			]
		},

		{
			code: "sunrift_story2",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:There were rumors about the existence of one place. Distant and large. So distant that speaking of it is already an achievement. People wanted to influence something that, as is customary, cannot really be influenced. They wanted to muffle... or even push away... the screech of metal in the middle of the day, and the feeling of rust in the air. But the world doesn't like it much when its manifestations are silenced." }
			],
			jumpTo: "sunrift_story2_response"
		},
		{
			code: "sunrift_story2_response",
			owner: "player",
			type: "talk",
			text: [
				{ value: "betterruins:Hard to imagine how it ended...", jumpTo: "sunrift_story3" },
				{ value: "betterruins:Another tragic story? I don't have time.", jumpTo: "main" }
			]
		},

		{
			code: "sunrift_story3",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:As they say: as they flared up, so they faded. As far as I know, it's unlikely anyone has forced themselves to visit that place again. After the terrible rumors that spread through the world following their failure. I even think a tradition appeared to leave that place alone." }
			],
			jumpTo: "sunrift_story3_response"
		},
		{
			code: "sunrift_story3_response",
			owner: "player",
			type: "talk",
			text: [
				{ value: "betterruins:And would you like to visit it?", jumpTo: "sunrift_story4" },
				{ value: "betterruins:Sounds grim, my condolences. I should go.", jumpTo: "main" }
			]
		},

		{
			code: "sunrift_story4",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:I don't really want to break tradition. And it's quite far - I trust rumors more than my own cart for such a distance. Yet safety comes first, it's no place for me alone. They also say danger outlives its masters." }
			],
			jumpTo: "sunrift_story4_response"
		},
		{
			code: "sunrift_story4_response",
			owner: "player",
			type: "talk",
			text: [
				{ value: "betterruins:I understand, do you have anything else?", jumpTo: "sunrift_request" },
				{ value: "betterruins:I agree with you. Let's leave that place be.", jumpTo: "main" }
			]
		},

		{
			code: "sunrift_request",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:I think I have a map from there... I'm not sure it leads exactly to it, but the mark with the sun suggests otherwise. The sun - the symbol of that place..." }
			],
			jumpTo: "sunrift_request_response"
		},
		{
			code: "sunrift_request_response",
			owner: "player",
			type: "talk",
			text: [
				{ value: "betterruins:I want to obtain it. I assume you need something in return?", jumpTo: "sunrift_pickaxe_request" },
				{ value: "betterruins:Maybe you should get rid of it, might be safer for both of us.", jumpTo: "main" }
			]
		},

		{
			code: "sunrift_pickaxe_request",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:Yes, but not exactly payment. A confirmation of your abilities. Show that you can handle good metal - bring me an iron pickaxe you forged yourself. If you're going there, better not go without purpose or craftsmanship." }
			],
			setVariables: { "player.requestironpickaxe": "true" },
			jumpTo: "sunrift_pickaxe_request_response"
		},
		{
			code: "sunrift_pickaxe_request_response",
			owner: "player",
			type: "talk",
			text: [
				{ value: "betterruins:Sounds worthy, but I still need to learn that.", jumpTo: "main" },
				{ value: "betterruins:I'll try to satisfy your request to prove my intentions.", jumpTo: "main" }
			]
		},










		{
			code: "sunrift_havepickaxe",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:Of course... I see... yes, the pickaxe is solid. I think I can trust you with more than just the map." }
			],
			trigger: "takefrominventory",
			triggerdata: { type: "item", code: "game:pickaxe-iron"},
			setVariables: { "player.gaveironpickaxe": "true" },
			jumpTo: "sunrift_pickaxe_choice"
		},
		{
			code: "sunrift_pickaxe_choice",
			owner: "player",
			type: "talk",
			text: [
				{ value: "betterruins:More than?", jumpTo: "sunrift_morethan" },
				{ value: "betterruins:I'll stick to the map, thank you very much.", jumpTo: "sunrift_map_only" }
			]
		},

		{
			code: "sunrift_map_only",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:Very well. Take the map, and may your steps be careful where the sun once burned brightest." }
			],
			trigger: "giveitemstack",
			triggerdata: { type: "item", code: "betterruins:locatormap-sunrift", stacksize: 1 },
			setVariables: { "player.sunriftmapgiven": "true" },
			jumpTo: "main"
		},

		{
			code: "sunrift_morethan",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:Yes, knowledge and items you'll need there. Considering the different rumors, the danger seems to still live there. You'll need equipment that can withstand an unexpected strike. You'll need fire - it doesn't burn willingly there, so take enough torches. Also - support, something to brace yourself against if the ground trembles. And medicine - absolutely. The pain from those events has most likely remained there, and the place will gladly share it with any visitor. Perhaps even with the first visitor..." }
			],
			jumpTo: "sunrift_morethan_response"
		},
		{
			code: "sunrift_morethan_response",
			owner: "player",
			type: "talk",
			text: [
				{ value: "betterruins:This is definitely useful knowledge, thank you very much.", jumpTo: "sunrift_final_advice" },
				{ value: "betterruins:Heard you... unpleasant, I'll think about it.", jumpTo: "sunrift_givemap_alt" }
			]
		},

		{
			code: "sunrift_final_advice",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:And one more thing. Don't expect answers from the map - just observe the things around you, that always helped me in difficult situations like yours." }
			],
			trigger: "giveitemstack",
			triggerdata: { type: "item", code: "betterruins:locatormap-sunrift", stacksize: 1 },
			setVariables: { "player.sunriftmapgiven": "true" },
			jumpTo: "main"
		},
		{
			code: "sunrift_givemap_alt",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:Then take the map and let your own judgement guide you. Some places are better understood in silence than in stories." }
			],
			trigger: "giveitemstack",
			triggerdata: { type: "item", code: "betterruins:locatormap-sunrift", stacksize: 1 },
			setVariables: { "player.sunriftmapgiven": "true" },
			jumpTo: "main"
		},









		{
			code: "sunrift_redrop",
			owner: "trader",
			type: "talk",
			text: [
				{ value: "betterruins:Here you go I got another copy of the map." }
			],
			trigger: "giveitemstack",
			triggerdata: { type: "item", code: "betterruins:locatormap-sunrift", stacksize: 1 },
			setVariables: { "player.sunriftmapgiven": "true" },
			jumpTo: "main"
		},




	]
}
